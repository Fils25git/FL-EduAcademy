<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - FL EduAcademy</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to your CSS file -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js"></script>
</head>
<body>

    <header>
        <!-- Hamburger Menu Icon -->
        <div class="hamburger-menu" onclick="toggleMenu()">â˜°</div>

        <!-- Navigation Menu -->
        <nav>
            <ul id="nav-links">
                <li class="nav-home"><a href="index.html">Home</a></li>
                <li class="nav-login"><a href="login.html">Log In</a></li>
                <li class="nav-signup"><a href="signup.html">Sign Up</a></li>
                <li><a href="privacy.html">Privacy Policy</a></li>
                <li><a href="terms.html">Terms and Conditions</a></li>
                <li><a href="about.html">About Us</a></li>
            </ul>
        </nav>

        <a href="index.html">
            <img src="logo.png" alt="FL EduAcademy Logo" class="logo">
        </a>
    </header>

    <!-- Login Form Section -->
    <section class="form-section">
        <div class="form-container">
            <h2>Login to FL EduAcademy</h2>
            <form id="login-form">
                <div class="form-group">
                    <input type="text" id="login-identifier" name="identifier" placeholder="Enter email or phone number" required>
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" name="password" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="btn">Log In</button>
            </form>
            <p><a href="reset-password.html" id="reset-password">Forgot Password?</a></p>
            <p>Don't have an account? <a href="signup.html">Sign Up</a></p>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <p>Phone/WhatsApp: +250798652481</p>
        <p>Email: fleduportal25@gmail.com</p>
        <p>&copy; 2025 FL EduAcademy. All rights reserved.</p>
    </footer>

    <!-- Login Firebase Script -->
    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBlWi6WIQi1c6TYasps8UpuCpz1EUJ8fYE",
            authDomain: "fleduacademy-7b378.firebaseapp.com",
            projectId: "fleduacademy-7b378",
            storageBucket: "fleduacademy-7b378.firebasestorage.app",
            messagingSenderId: "630369179653",
            appId: "1:630369179653:web:e594eb02454392b37de46c",
            measurementId: "G-FLS5SLG9PE"
        };

        // Initialize Firebase App
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();

        // Handle Login
        document.getElementById("login-form").addEventListener("submit", function(e) {
            e.preventDefault();
            const identifier = document.getElementById("login-identifier").value;
            const password = document.getElementById("login-password").value;

            let loginMethod;
            if (identifier.includes("@")) {
                loginMethod = auth.signInWithEmailAndPassword;
            } else {
                loginMethod = auth.signInWithPhoneNumber;
            }

            // Login using email/phone
            loginMethod(identifier, password).then((userCredential) => {
                const user = userCredential.user;
                console.log("Logged in as:", user);
                // Redirect to the dashboard or home page
                window.location.href = "dashboard.html";
            }).catch((error) => {
                console.error("Login error:", error.message);
            });
        });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var currentPage = window.location.pathname.split("/").pop();

            if (currentPage === "login.html") {
                var loginLink = document.querySelector(".nav-login");
                if (loginLink) loginLink.remove();
            }

            // Hamburger menu toggle
            var menuButton = document.querySelector(".hamburger-menu");
            var menu = document.getElementById("nav-links");

            if (menuButton && menu) {
                menuButton.addEventListener("click", function () {
                    menu.classList.toggle("show");
                });
            }
        });
    </script>
</body>
</html>
